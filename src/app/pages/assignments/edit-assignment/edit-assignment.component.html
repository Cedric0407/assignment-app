<mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>

<mat-card>
  <mat-card-header>
    <h1>Ã‰dition assignement</h1>
  </mat-card-header>
  <mat-card-content>
    <div class="form">
      <mat-form-field appearance="fill">
        <mat-label>Nom</mat-label>
        <input matInput [(ngModel)]="assignment.nom" name="nom" required />
      </mat-form-field>

      <mat-checkbox class="example-margin" [(ngModel)]="assignment.rendu"
        >Rendu</mat-checkbox
      >

      <mat-form-field>
        <mat-label>Note</mat-label>
        <input
          matInput
          type="number"
          [(ngModel)]="assignment.note"
          name="note"
          [disabled]="!assignment.rendu"
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Remarques</mat-label>
        <textarea
          matInput
          [(ngModel)]="assignment.remarques"
          name="remarques"
          rows="4"
          [disabled]="!assignment.rendu"
        ></textarea>
      </mat-form-field>

      <div class="footer">
        <button mat-button (click)="cancel()"  type="reset">Annuler</button>
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="btn-action"
          [disabled]="
            !assignment.nom ||
            isLoading ||
            (assignment.rendu && (!assignment.remarques || !assignment.note))
          "
          (click)="onSaveAssignment()"
        >
          Enregistrer
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
